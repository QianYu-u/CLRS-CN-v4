# 1 算法在计算中的作用

什么是算法？为什么值得研究算法？算法的作用是什么？
相对于计算机中使用的其他技术，算法的作用如何？本章将回答这些问题。

---

## 1.1 算法

非正式地说，**算法**是任何明确定义的计算过程，它接受某个值或一组值作为**输入**，并在有限的时间内产生某个值或一组值作为**输出**。因此，算法是一系列计算步骤，将输入转换为输出。

你也可以将算法视为解决明确指定的**计算问题**的工具。问题的描述通常用一般性术语规定了所需的输入/输出关系，这些问题实例的规模通常是任意大的。算法描述了一个具体的计算过程，用于实现所有问题实例的输入/输出关系。

例如，假设你需要将一个数字序列排序为单调递增的顺序。这个问题在实践中经常出现，为介绍许多标准设计技术和分析工具提供了丰富的素材。以下是我们正式定义**排序问题**的方式：

**输入:** 一个由 $n$ 个数组成的序列 $\langle a_1, a_2, \dots, a_n \rangle$.

**输出:** 一个新的序列(重新排序) $\langle a'_1, a'_2, \dots, a'_n \rangle$ 输出序列 $a'_1 \le a'_2 \le \dots \le a'_n$.

因此，给定输入序列 $\langle 31; 41; 59; 26; 41; 58 \rangle$，正确的排序算法返回的输出序列为 $\langle 26; 31; 41; 41; 58; 59 \rangle$。这样的输入序列被称为排序问题的一个**实例**。一般来说，**问题的一个实例**^1^是由计算问题解决方案所需的输入组成（满足问题陈述中施加的任何约束）。

因为许多程序将排序作为中间步骤，排序是计算机科学中的一项基本操作。因此，你可以使用大量好的排序算法。对于给定的应用程序，哪种算法最佳取决于——除了其他因素外——要排序的项目数量、项目已排序的程度、对项目值的可能限制、计算机的体系结构，以及要使用的存储设备类型：主存储器、磁盘，甚至——古老地说——磁带。

若针对计算问题中的任一问题输入，算法均能在有限时间内终止运算并输出该实例的**正确解**，则该算法具有正确性。正确的算法能够**解决**给定的计算问题。而不正确的算法可能在部分输入实例下无法**终止**，或在终止时给出错误结果。与直觉相悖的是，若能够控制其错误率，不完全正确的算法仍可能具有实用价值。例如第三十一章讨论大素数判定算法时，我们将看到具有可控错误率的算法实例。但通常情况下，我们仅关注具有正确性的算法。

算法可以用英文、计算机程序，甚至硬件设计来描述。唯一的要求是该描述必须提供要遵循的计算过程的精确描述。

## 什么样的问题由算法来解决？

排序绝不是唯一被开发出算法的计算问题。（当你看到这本书的厚度时，你可能已经猜到了这一点。）算法的实际应用无处不在，包括以下示例：

- 人类基因组计划在实现以下目标方面取得了重大进展：确定人类 DNA 中约 30,000 个基因；确定构成人类 DNA 的约 30 亿个化学碱基对的序列；将这些信息存储在数据库中；以及开发用于数据分析的工具。每个步骤都需要复杂的算法。尽管所涉及的各种问题的解决方案超出了本书的范围，但许多解决这些生物学问题的方法都运用了本文中所介绍的理念，使科学家能够高效地利用资源完成任务。动态规划（如第 14 章所述）是解决其中一些生物学问题的重要技术，特别是那些涉及确定 DNA 序列相似性的问题。所实现的节省体现在时间方面（包括人力和机器时间）以及资金方面，因为通过实验室技术可以提取更多的信息。
- 互联网使世界各地的人们能够迅速获取和检索大量信息。借助巧妙的算法，互联网上的网站能够管理和处理如此庞大的数据量。算法在诸多问题中的应用实例包括：找到数据传输的最佳路径（解决此类问题的技术在第 22 章中有介绍），以及使用搜索引擎快速找到包含特定信息的页面（相关技术在第 11 章和第 32 章中有阐述）。
- 电子商务使得商品和服务能够以电子方式进行协商和交换，并且它依赖于诸如信用卡号码、密码和银行对账单等个人信息的隐私保护。电子商务所使用的核心技术包括公钥加密和数字签名（在第 31 章中有详细介绍），这些技术基于数值算法和数论。
- 制造业及其他商业企业常常需要以最有利的方式分配稀缺资源。例如，一家石油公司可能希望知道如何将油井布局在何处，以实现预期的最大收益。一位政治候选人可能想要确定在哪里投入资金来购买竞选广告，以最大程度地提高赢得选举的机会。一家航空公司可能希望以尽可能低的成本安排机组人员到各个航班上工作，同时确保每个航班都有人覆盖，并且符合有关机组人员排班的规定。一家互联网服务提供商可能希望确定在哪里投入额外资源，以便更有效地为客户提供服务。所有这些都是可以通过将其建模为线性规划问题来解决的例子，第 29 章将对此进行探讨。

虽然这些示例中的某些细节超出了本书的讨论范围，但我们确实会介绍适用于这些问题和相关领域的基本方法。我们还会展示如何解决许多具体问题，包括以下这些：

- 你有一张路线图，上面标注了每对相邻交叉口之间的距离，你想确定从一个交叉口到另一个交叉口的最短路线。即使不允许自相交的路线，可能的路线数量也可能是巨大的。你如何从所有可能的路线中选择最短的那条？你可以先将路线图（它本身是实际道路的模型）建模为图（我们将在第六部分和附录 B 中介绍）。在这个图中，你想找到从一个顶点到另一个顶点的最短路径。第 22 章展示了如何有效地解决这个问题。
- 假设有一个基于零件库的机械设计，其中每个零件都可能包含其他零件的实例。请按照以下方式列出这些零件：确保每个零件都排在使用它的零件之前。如果该设计包含 $n$ 个零件，那么就有 $n!$ 种可能的排列顺序，其中 $n!$ 表示阶乘函数。由于阶乘函数的增长速度甚至比指数函数还要快，所以除非零件数量很少，否则无法切实生成每一种可能的顺序并验证在该顺序中每个零件是否都排在使用它的零件之前。这个问题就是拓扑排序的一个实例，第 20 章将展示如何高效地解决这个问题。
- 医生需要确定一个图像是否代表恶性肿瘤或良性肿瘤。医生可以获得许多其他肿瘤的图像，其中一些已知是恶性的，一些已知是良性的。恶性肿瘤可能与其他恶性肿瘤更相似，而不是与良性肿瘤相似，良性肿瘤更可能与其他良性肿瘤相似。通过使用聚类算法（如第 33 章所述），医生可以确定哪个结果更可能。
- 为了减小大文本文件的体积，我们可以使用多种压缩技术。除了通过识别重复序列进行压缩的 LZW 算法外，第 15 章还将介绍 Huffman 编码。后者的核心逻辑是：根据字符出现频率分配变长编码，频率越高，编码越短

这些列表远非详尽（正如你可能再次从本书的厚度推测出的那样），但它们展示了众多有趣的算法问题共有的两个特征：

- 它们有许多候选解决方案，但其中绝大多数都无法解决当前的问题。在不逐一详细考察每个可能解决方案的情况下，找出一个能解决问题的方案，或者一个“最佳”方案，可能会颇具挑战性。
- 它们具有实际应用价值。在上述列表中的问题中，寻找最短路径是最简单的例子。例如，一家运输公司，比如货运公司或铁路公司，会出于经济利益考虑去寻找通过道路或铁路网络的最短路径，因为走较短的路径能降低劳动力和燃料成本。或者互联网中的一个路由节点可能需要找到通过网络的最短路径，以便快速传输信息。或者一个想要从纽约开车前往波士顿的人可能会想使用导航应用程序来寻找驾车路线。

并非由算法解决的所有问题都能有明确的候选解决方案可供识别。例如，给定一组代表以固定时间间隔采集的信号样本的数值，离散傅里叶变换会将时域转换为频域。也就是说，它将信号近似为一系列正弦波的加权和，从而得出各种频率的强度，这些强度相加后能近似表示所采集的信号。除了是信号处理的核心之外，离散傅里叶变换还应用于数据压缩以及对大多项式和整数的乘法运算。第 30 章给出了一个高效的算法——快速傅里叶变换（通常称为 FFT），用于解决这个问题。该章节还简要介绍了一个硬件 FFT 电路的设计。

## 数据结构

这本书还介绍了几种**数据结构**。数据结构是一种用于存储和组织数据的方式，以便于访问和修改。选择合适的数据结构或多种数据结构是算法设计中非常重要的一部分。没有一种数据结构能适用于所有情况，因此您应该了解它们各自的优点和局限性。

## 技术

虽然你可以把这本书当作算法的手册来使用，但有些时候你可能会遇到一些问题，无法轻松找到已发表的算法（这本书中许多练习和问题就是例子）。本书将教你算法设计和分析的技巧，使你能够自主开发算法，证明它们给出正确答案，并分析其效率。不同的章节涉及算法问题求解的不同方面。有些章节针对特定问题，例如第 9 章中寻找中位数和顺序统计量、第 21 章中计算最小生成树以及第 24 章中确定网络中的最大流。其他章节介绍各种技术，例如第 2 章和第 4 章中的分治法、第 14 章中的动态规划以及第 16 章中的摊销分析。

## 困难问题

本书的大部分内容都涉及高效的算法。我们通常衡量算法的效率的标准是速度：一个算法需要多长时间才能得出结果。然而，也有一些问题，我们目前还没有找到能在合理时间内运行的算法来解决它们。例如第 34 章研究了这类问题中一个有趣的子集，这些问题是被称为“NP 完全问题”的。

为什么 NP 完全问题如此引人关注呢？首先，尽管尚未找到任何针对 NP 完全问题的高效算法，但也没有人能证明不存在这样的高效算法。换句话说，人们并不清楚是否存在针对 NP 完全问题的高效算法。其次，NP 完全问题的集合具有一个非凡的特性：如果针对其中任何一个问题存在高效算法，那么针对所有这些问题都存在高效算法。这种 NP 完全问题之间的关系使得缺乏高效解决方案的状况显得更加令人向往。最后，一些 NP 完全问题与我们已知存在高效算法的问题相似，但又不完全相同。计算机科学家对一个问题陈述的微小变化如何导致已知最佳算法效率的巨大变化而感到好奇。

你应当了解NP完全问题，因为它们在实际应用中时常出人意料地出现。若有人要求你为NP完全问题设计高效算法，你很可能会徒劳耗费大量时间。反之，若能证明该问题是NP完全的，你便可将精力用于开发高效的近似算法——这种算法能提供良好但不一定最优的解决方案。

以一个具体例子来说明：假设某快递公司设有中央仓库。每天，卡车在仓库装载货物后前往多个地址配送，日终时必须返回仓库以便次日继续使用。为降低成本，公司需要为每辆卡车规划出总行驶距离最短的配送路线顺序。这就是著名的"旅行商问题"，属于NP完全问题，目前尚无已知高效算法。但在特定条件下，我们已掌握能计算出接近最短总距离的高效算法。第35章将探讨这类"近似算法"。

## 替代计算模型

多年来，我们一直可以依赖处理器时钟速度以稳定的速率提升。然而，物理限制为时钟速度的持续增长带来了根本性障碍：由于功率密度随时钟速度呈超线性增长，一旦时钟速度达到足够高的水平，芯片便面临熔毁的风险。因此，为了每秒执行更多计算，芯片设计正朝着包含不止一个而是多个处理“核心”的方向发展。我们可以将这些多核计算机比作单芯片上的多个顺序计算机。换言之，它们属于一种“并行计算机”。为了从多核计算机中获取最佳性能，我们需要在设计算法时充分考虑并行性。第26章介绍了一种“任务并行”算法模型，该模型能够充分利用多个处理核心。这一模型在理论和实践层面均具优势，许多现代并行编程平台都采用了与此类似的并行模型。

本书中的大多数示例都假设算法开始运行时所有输入数据都已就绪。算法设计中的大部分工作也基于同样的假设。然而，对于许多重要的现实场景，输入实际上是随时间逐步到达的，算法必须在不知道未来数据的情况下决定如何推进。在数据中心，任务不断到达和离开，调度算法必须在不知道未来任务的情况下决定何时何地运行任务。互联网中的流量必须基于当前状态进行路由，而无法预知未来流量的到达情况。医院急诊室需要根据分诊决策确定优先治疗哪些患者，却无法预知未来何时会有其他患者到达以及他们需要何种治疗。这类随时间逐步接收输入而非在开始时即拥有全部输入的算法被称为在线算法，第27章将对此进行探讨。

## 练习 (Exercises)

**1.1-1**
请举出一个现实生活中需要进行排序的例子。再举出一个需要计算两点间最短距离的例子。

**1.1-2**
在现实场景中，除了速度之外，还有哪些衡量效率的指标是需要考虑的？

**1.1-3**
选择一种你见过的数结构，并讨论它的优点和局限性。

**1.1-4**
前文提到的最短路径问题和旅行商问题（traveling-salesperson problem）有何相似之处？又有何不同？

**1.1-5**
举出一个只有最优解才可行的现实问题。然后再举出一个只需“近似”最优解就足够的例子。

**1.1-6**
描述一个现实问题，其中有时需要在获得全部输入后才能解决，而有时输入则是随着时间推移陆续到达的。

---